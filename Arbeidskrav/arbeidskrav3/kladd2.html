<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passord Generator</title>
</head>
<body>
    
    <!--Brukerinput for passordgenerering-->
    <ul>
        <li><button id="smallButton">Small chars? NEI</button></li>
        <li><button id="bigButton">Big chars? NEI</button></li>
        <li><button id="symbolButton">Symbols? NEI</button></li>
        <li><label for="passLengde">Passord lengde:</label>
            <input type="number" id="passLengde" name="passordLengde"></li>
        <li><button onclick="passGen()">Generer passord</button></li>
    </ul>
    <!--Utskrift for genererte passord-->
    <ul id="passListe">

    </ul>

    <script>
        //Variabler for små/store bokstaver og symboler
        const smallChars = "abcdefghijklmnopqrstuvwxyz"
        const bigChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
        const symbols = "!#¤%&/()=?@£$€{[]}"
        //Variabler for å lagre brukeren sine valg for passordgenerering. små/store bokstaver og symbol
        let smallToggle = false
        let bigToggle = false
        let symbolToggle = false
        
    
        //Funksjonen for generering av passord
        function passGen(){
            //Variabel for å samle de tilfeldig genererte tegnene til passordet
            let password = ""
            //Array for å samle tegnene som brukeren vil generere passord fra
            const array = []
            //Kobler liste for genererte passord til en variabel
            const passListe = document.getElementById("passListe")
            //Kobler input i html koden for lengde av passord til en variabel
            //Lagrer passordlengde-inputten fra html koden i en variabel og legger på .valueAsNumber
            let passordLengdeInput = document.getElementById("passLengde").valueAsNumber
            //Setter lengden på det genererte passordet til brukerinputten i html-koden
            let lengde = passordLengdeInput

            //Massevis av if tester for brukerinput
            if(typeof lengde ==="number"){
                console.log("lengde = tall")
            } else {return "yo"}
            if(smallToggle){
                array.push(...smallChars)}
            if(bigToggle){
                array.push(...bigChars)}
            if(symbolToggle){
                array.push(...symbols)}
            
            if(array.length < 1){
               
                return alert("Ingenting valgt")
            }
            if(lengde <= 0){
                return alert("for kort")
            }
            //Bruker isNaN (is not a number) for å sjekke om passlengde inputten er et tall
            //Om brukerinputten på passordlengde ikke er et tall vil funksjonen bare gi en alert
            if(isNaN(lengde)){
                return alert("må være tall")
            }
            
            

            for(teller = 0; teller < lengde; teller++){
                const rng = Math.floor(Math.random() * array.length)
                password += array[rng]
                }
            
           passListe.innerHTML += `<li>${password}</li>`
           return password
        }

        
        function smallToggler(){
            smallToggle = !smallToggle
            button = document.getElementById("smallButton")
            if(smallToggle){
                button.innerHTML = "Small chars? JA"
            } else {button.innerHTML = "Small chars? NEI"}
        }
        function bigToggler(){
            bigToggle = !bigToggle
            button = document.getElementById("bigButton")
            if(bigToggle){
                button.innerHTML = "Big chars? JA"
            } else {button.innerHTML = "Big chars? NEI"}
        }
        function symbolToggler(){
            symbolToggle = !symbolToggle
            button = document.getElementById("symbolButton")
            if(symbolToggle){
                button.innerHTML = "Symbols? JA"
            } else {button.innerHTML = "Symbols? NEI"}
        }

        document.getElementById("smallButton").addEventListener("click", () => {smallToggler()})
        document.getElementById("bigButton").addEventListener("click", () => {bigToggler()})
        document.getElementById("symbolButton").addEventListener("click", () => {symbolToggler()})

    


    </script>
</body>
</html>